{% extends "ClarolineCoreBundle:Workspace:layout.html.twig" %}

{% block breadcrumb %}
    {{
        macros.breadcrumbs([
            {
                'icon': 'icon-book',
                'name': 'workspaces'|trans({}, 'platform'),
                'href': path('claro_workspace_list')
            },
            {
                'name': workspace.getName() ~ ' - ' ~ workspace.getCode(),
                'href': path('claro_workspace_open', {'workspaceId': workspace.getId(), 'toolName': 'home'})
            },
            {
                'name': 'innova_path'|trans({}, 'tools'),
                'href': ''
            }
        ])
    }}
{% endblock %}

{% block section_content %}
    <div class="panel-heading">
        <h3 class="panel-title">{{ 'paths' | trans({}, 'innova_tools') }}</h3>
    </div>

    <div class="panel-body">
        <div>{{ macros.flashBox() }}</div>

        <a href="{{ path('innova_path_editor_new', {workspaceId: workspace.id}) }}" class="btn btn-default">
            <span class="icon-pencil"></span>
            {{ 'create_path' | trans({}, 'innova_tools') }}
        </a>

        <hr />

        {% if paths["me"] is empty and paths["others"] is empty  %}

            {{ 'no_path_found' | trans({}, 'innova_tools') }}

        {% else %}

            {% if paths["me"] is not empty %}
                {% include 'InnovaPathBundle::Tool/paths-user.html.twig' %}
            {% endif %}

            {% if paths["others"] is not empty %}
                {% include 'InnovaPathBundle::Tool/paths-other.html.twig' %}
            {% endif %}

        {% endif %}
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('bundles/frontend/jquery/plugin/confirm-bootstrap/confirm-bootstrap.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/innovapath/js/fromWorkspace.js') }}"></script>
{% endblock %}