<div id="square-browser">
    {# Affichage des parents et leurs frères. #}
    {% set allParents = currentStep.getParents() %}
    {% if allParents is defined and allParents is not empty %}
        {% for i, parent in allParents %}
            <a rel="tooltip" data-original-title="{{ parent.name}}" class="parent step btn btn-lg btn-default lvl-{{ i }}" href="{{ path('innova_path_player_index', { workspaceId: workspace.id, pathId: path.id, stepId : parent.id }) }}">
            <div class="parent-siblings-{{ i }}">
                {% set parentSiblings = parent.getSiblings() %}
                {% for parentSibling in parentSiblings %}
                    <a rel="tooltip" data-original-title="{{ parentSibling.name }}" class="parent-sibling step btn btn-lg btn-default lvl-{{ i }}" href="{{ path('innova_path_player_index', { workspaceId: workspace.id, pathId: path.id, stepId : parentSibling.id }) }}"></a>
                {% endfor %}
            </div>
            <span class="separator"></span>
        {% endfor %}
    {% endif %}

    {# Affichage de l'élément courant et de ses frères. #}
    <a rel="tooltip" data-original-title="{{ currentStep.name }}" class="current step btn btn-lg btn-default lvl-{{ i }}" href="{{ path('innova_path_player_index', { workspaceId: workspace.id, pathId: path.id, stepId : currentStep.id }) }}"></a>
    {% set siblings = currentStep.getSiblings() %}
    {% for sibling in siblings %}
        <a rel="tooltip" data-original-title="{{ sibling.name }}" class="step btn btn-lg btn-default lvl-{{ sibling.lvl }}" href="{{ path('innova_path_player_index', { workspaceId: workspace.id, pathId: path.id, stepId : sibling.id }) }}">
        </a>
    {% endfor %}
        
    {# Affichage des enfants de l'élément courant #}
    {% if currentStep.children is not empty %}
        <span class="separator"></span>
        {% for child in currentStep.children %}
        <a rel="tooltip" data-original-title="{{ child.name }}" class="btn step children btn-lg btn-default" href="{{ path('innova_path_player_index', { workspaceId: workspace.id, pathId: path.id, stepId : child.id }) }}">
        </a>
        {% endfor %}
    {% endif %}
</div>